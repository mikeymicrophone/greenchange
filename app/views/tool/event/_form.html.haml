-# 
  -# timezone = @event.time_zone
  -# date_start = @page.starts_at ? event_to_local(@page.starts_at,timezone) : 'yyyy-mm-dd'
  -# date_end = @page.ends_at ? event_to_local(@page.ends_at,timezone).loc('%Y-%m-%d') : 'yyyy-mm-dd'
  -# hour_start = @page.starts_at ? event_to_local(@page.starts_at,timezone).loc('%I:%M %p') : '9:00 AM'
  -# hour_end = @page.ends_at ? event_to_local(@page.ends_at,timezone).loc('%I:%M %p') : '5:00 PM'
.section.time
  %h2
    when
  %p
    = f.check_box :is_all_day , :id => 'event_is_all_day' 
    %label{ :for => 'event_is_all_day' }
      Event is all day

    %p.column
      %label{ :for => 'event_date_start' } 
        Start
      = f.text_field :date_start, :size => 10, :id => 'event_date_start', :default => 'yyyy-mm-dd' #:onfocus => "this.select();lcs(this)", :onclick => "event.cancelBubble=true;this.select();lcs(this)"
      = f.text_field :hour_start, :size => 8
    %p.column.time-details
      %label{ :for => 'event_date_end' }
        To
      = f.text_field :date_end, :size => 10, :id => 'event_date_end' # :onfocus => "this.select();lcs(this)", :onclick => "event.cancelBubble=true;this.select();lcs(this)"
      = f.text_field :hour_end, :size => 8


    .time-details
      = f.label :time_zone, 'Time Zone'
      = f.time_zone_select :time_zone

.section.place
  %h2
    where
  %p
    %p 
      = f.label :address1, 'Street Address 1:'
      = f.text_field :address1, :size =>50
    %p
      = f.label :address2, 'Street Address 2:'
      = f.text_field :address2, :size =>50
    %p
      = f.label :city, 'City:'
      = f.text_field :city, :size => 20
      
    %p
      = f.label :state, 'State/Province:'
      - f.object.state_other = ((ActionView::Helpers::FormOptionsHelper::US_STATES + ActionView::Helpers::FormOptionsHelper::CANADA_STATES).include?(f.object.state) ? '' : f.object.state )
      = f.state_select :state, ['US','CANADA'], :include_blank => true
      -#= f.state_select :state, (state_options_for_select(@event.state, 'US') + state_options_for_select(@event.state, 'CANADA')), :include_blank => true
      -#= f.select :state, state_options_for_select(@event.state, 'US') + state_options_for_select(@event.state, 'CANADA') + options_for_select([['',''],['Other', 'Other']], other_state ? 'Other' : @event.state))
    -#%p  
      = f.label :state_other, 'Other State/Province:'
      = f.text_field :state_other, :size => 40
    %p 
      = f.label :postal_code, 'Postal Code:'
      = f.text_field :postal_code, :size => 20

    %p
      = f.label :country, 'Country:'
      = f.country_select :country, ['United States','Canada','United Kingdom'], :include_blank => true

.section.details
  %p
    = f.label :description, 'description'
    = f.text_area 'description', :rows => 10, :cols => 50
  %p
    = f.label :directions, 'directions'
    = f.text_area :directions, :rows => 10, :cols => 50

- content_for :javascript do
  = calendar_date_select_includes "blue" 
  = javascript_include_tag 'calendar'

- content_for :javascript_onload do
  Event.observe( $("event_date_start"), 'focus', function(ev) { $("event_date_start").select();lcs( $('event_date_start')); });
  Event.observe( $("event_date_end"), 'focus', function(ev) { $("event_date_end").select();lcs( $('event_date_end')); });
  if( $("event_is_all_day").checked ) $$(".time-details").invoke('hide');
  Event.observe( $("event_is_all_day"), 'click', function(ev) { $$(".time-details").invoke('toggle'); });
