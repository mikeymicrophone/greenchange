<div id="posts">

<%= will_paginate @posts, :param_name => :posts %>

<table border="0" cellspacing="0" cellpadding="0" class="posts">
<% for post in @posts do -%>
<%= render :partial => 'posts/post', :locals => {:post => post} %>
<% end -%>
<% if logged_in? -%>
<%= render :partial => 'posts/reply' %>
<% end -%>
</table>

<% if @posts.next_page %>
<p style="float:right;"><%= link_to "Next page", { :posts => @posts.next_page }.merge(params.reject{|k,v| k=="posts"})  %></p>
<% end %>

<%= will_paginate @posts, :param_name => :posts %>

</div>
